<div class="main-container">
  <div class="left-container">
    <h1 class="title">Estimez votre prime selon les travaux souhaités</h1>
    <hr />
    <div class="container">
      <i class="bx bxs-group"></i>
      <div class="content">
        <span>Indiquez le nombre de personnes vivant dans le logement</span>
        <div class="sub-container">
          <div class="button change" (click)="minusOne()">
            <i class="bx bx-minus"></i>
          </div>
          <div class="number">{{ habitantsNumber }}</div>
          <div class="button change" (click)="plusOne()">
            <i class="bx bx-plus"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <i class="bx bxs-home"></i>
      <div class="content">
        <span>Indiquez le revenu fiscal de votre foyer</span>
        <div class="sub-container">
          <select [(ngModel)]="price" (ngModelChange)="priceChange()">
            @for (value of priceList; track value; let index = $index) {
            <option [value]="index">
              {{ value }}
            </option>
            }
          </select>
        </div>
      </div>
    </div>
    <div class="container">
      <i class="bx bxs-briefcase-alt-2"></i>
      <div class="content">
        <span>Votre projet</span>
        <div class="sub-container">
          <div
            class="button choose selected"
            [ngClass]="{ selected: globaleSelected }"
            (click)="selectGlobale()"
          >
            <span>Rénovation globale</span>
          </div>
          <div
            class="button choose"
            [ngClass]="{ selected: gesteSelected }"
            (click)="selectGeste()"
          >
            <span>Par geste</span>
          </div>
        </div>
      </div>
    </div>
    @if (gesteSelected) {
    <div class="container">
      <div class="content">
        <span>Choisissez le type de travaux</span>
        <div class="sub-container">
          <select [(ngModel)]="workType" (ngModelChange)="workTypeChange()">
            @for (value of workTypes; track value; let index = $index) {
            <option [value]="index">
              {{ value }}
            </option>
            }
          </select>
        </div>
      </div>
    </div>
    }
  </div>
  @if (displayGeste || displayGlobale) {
  <div class="right-container">
    @if (displayGlobale) {
    <app-globale [estimationPercent]="estimationPercent"></app-globale>
    } @if (displayGeste) {
    <app-geste [estimationEuros]="estimationEuros"></app-geste>
    }
  </div>
  }
</div>
